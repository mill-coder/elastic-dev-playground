<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Elastic Dev Playground</title>
  <link rel="stylesheet" href="/src/style.css">
</head>
<body>
  <header>
    <div class="header-logo">
      <svg class="logo-icon" viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <polyline points="16 18 22 12 16 6"></polyline>
        <polyline points="8 6 2 12 8 18"></polyline>
      </svg>
      <span class="header-title">elastic-dev-playground</span>
    </div>
    <nav class="header-nav">
      <a href="#editor" class="nav-link active" data-page="editor">Logstash Editor</a>
      <a href="#docs" class="nav-link" data-page="docs">Documentation</a>
      <a href="#import-data" class="nav-link" data-page="import-data">Import Data</a>
    </nav>
  </header>

  <div id="page-editor" class="page">
    <div id="editor"></div>
  </div>

  <div id="page-docs" class="page" style="display:none">
    <div class="docs-content">
      <h2>Documentation</h2>
      <p>Welcome to Elastic Dev Playground — a platform engineering toolkit for the Elastic stack, starting with a browser-based Logstash configuration editor with live error highlighting.</p>

      <h3>Getting Started</h3>
      <p>Use the <strong>Logstash Editor</strong> tab to write your Logstash configuration. Syntax errors are highlighted in real-time using a Go-based parser compiled to WebAssembly.</p>

      <h3>Configuration Structure</h3>
      <p>A Logstash configuration file has three sections:</p>
      <ul>
        <li><code>input { }</code> — defines data sources (e.g., beats, file, stdin)</li>
        <li><code>filter { }</code> — transforms and enriches events (e.g., mutate, grok, date)</li>
        <li><code>output { }</code> — sends events to destinations (e.g., elasticsearch, stdout)</li>
      </ul>

      <h3>Features</h3>
      <ul>
        <li>Live syntax error detection with inline highlighting</li>
        <li>Semantic validation for unknown plugins, options, and codecs</li>
        <li>Kibana pipeline management — load, save, and delete pipelines via CPM</li>
        <li>No server required — parsing and validation run entirely in the browser</li>
      </ul>

      <h3>Kibana Integration</h3>
      <p>Use the sub-menu bar on the <strong>Logstash Editor</strong> page to connect to a Kibana instance with Centralized Pipeline Management enabled. You can list, load, edit, and save Logstash pipelines directly from the editor.</p>
      <p>The Vite dev server proxies requests to Kibana to bypass CORS restrictions. Enter your Kibana URL, username, and password to get started.</p>

      <h3>Import Data</h3>
      <p>The <strong>Import Data</strong> tab is a placeholder for importing data from a deployed Elastic stack into a lab stack. This feature is coming soon.</p>
    </div>
  </div>

  <div id="page-import-data" class="page" style="display:none">
    <div class="docs-content">
      <h2>Import Data</h2>
      <p>Import data from a deployed Elastic stack into the lab stack. (Coming soon)</p>
    </div>
  </div>

  <script src="/wasm_exec.js"></script>
  <script type="module" src="/src/main.js"></script>
</body>
</html>
